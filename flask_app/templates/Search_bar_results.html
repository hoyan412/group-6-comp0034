<!--
Organisation: University College London
# Module: Application Programming for Data Science
# Module Code: COMP0034
# Date: 28/04/2021
# Project: CW 2
# Authors: Rayan Souissi - Youssef Alaoui - Ho Yan Or
-->

{% extends 'Layout.html' %}
{% set title = 'Profile Display' %}
{% from "_formhelpers.html" import render_field %}
{% block content %}

    <section>
        <center><h3>Search Results</h3></center>
        <div class="container">
            <div class="main-body">
                <h4><i>Users: </i></h4>
                <br>

                <div class="row gutters-sm">
                    {%for profile,url in results%}
                        <div class="col-md-3 mb-3">
                            <div class="card display-prof">
                                <div class="card-body">
                                    <div class="d-flex flex-column align-items-center text-center">
                                        <a href="{{ url_for('Profile_and_Account.display_other_profile', username=profile.username) }}">
                                            <img src={{url}} alt="User" class="card-img-top" style="width:210px;height:220px;"></a>
                                        <div class="mt-3">
                                            <a href="{{ url_for('Profile_and_Account.display_other_profile', username=profile.username) }}">
                                                <h3 class="card-text" style="color:#34b7a7;"><i>{{ profile.username }}</i></h3></a>                                    <p class="card-text" style="font-weight:350;">{{ profile.age }} y/o<span>| </span>{{ profile.gender }}</p>
                                            <p class="card-text text-muted">{{ profile.bio }}</p>
                                            <br>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
            <br>
            <hr>
            <br>

            <h4><i>Posts: </i></h4>
            <div class="card mb-3">
                <div class="card-body">
                    {%for post in posts%}
                        <a href="{{ url_for('community.get_post', post_id=post.id) }}">
                            <h4 class="card-text"><i>{{post.title}}</i></h4></a>
                        {{post.body}}
                        <br>
                        <hr>
                    {% endfor %}
                </div>
            </div>
        </div>
    </section>
{% endblock %}
